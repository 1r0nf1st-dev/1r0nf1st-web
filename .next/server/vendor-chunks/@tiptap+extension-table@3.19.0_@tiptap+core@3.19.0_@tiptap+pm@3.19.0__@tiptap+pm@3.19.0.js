"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@tiptap+extension-table@3.19.0_@tiptap+core@3.19.0_@tiptap+pm@3.19.0__@tiptap+pm@3.19.0";
exports.ids = ["vendor-chunks/@tiptap+extension-table@3.19.0_@tiptap+core@3.19.0_@tiptap+pm@3.19.0__@tiptap+pm@3.19.0"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@tiptap+extension-table@3.19.0_@tiptap+core@3.19.0_@tiptap+pm@3.19.0__@tiptap+pm@3.19.0/node_modules/@tiptap/extension-table/dist/index.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tiptap+extension-table@3.19.0_@tiptap+core@3.19.0_@tiptap+pm@3.19.0__@tiptap+pm@3.19.0/node_modules/@tiptap/extension-table/dist/index.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_CELL_LINE_SEPARATOR: () => (/* binding */ DEFAULT_CELL_LINE_SEPARATOR),\n/* harmony export */   Table: () => (/* binding */ Table),\n/* harmony export */   TableCell: () => (/* binding */ TableCell),\n/* harmony export */   TableHeader: () => (/* binding */ TableHeader),\n/* harmony export */   TableKit: () => (/* binding */ TableKit),\n/* harmony export */   TableRow: () => (/* binding */ TableRow),\n/* harmony export */   TableView: () => (/* binding */ TableView),\n/* harmony export */   createColGroup: () => (/* binding */ createColGroup),\n/* harmony export */   createTable: () => (/* binding */ createTable),\n/* harmony export */   renderTableToMarkdown: () => (/* binding */ renderTableToMarkdown),\n/* harmony export */   updateColumns: () => (/* binding */ updateColumns)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/.pnpm/@tiptap+core@3.19.0_@tiptap+pm@3.19.0/node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/pm/state */ \"(ssr)/./node_modules/.pnpm/@tiptap+pm@3.19.0/node_modules/@tiptap/pm/dist/state/index.js\");\n/* harmony import */ var _tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/pm/tables */ \"(ssr)/./node_modules/.pnpm/@tiptap+pm@3.19.0/node_modules/@tiptap/pm/dist/tables/index.js\");\n// src/cell/table-cell.ts\n\nvar TableCell = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n  name: \"tableCell\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  content: \"block+\",\n  addAttributes() {\n    return {\n      colspan: {\n        default: 1\n      },\n      rowspan: {\n        default: 1\n      },\n      colwidth: {\n        default: null,\n        parseHTML: (element) => {\n          var _a, _b;\n          const colwidth = element.getAttribute(\"colwidth\");\n          const value = colwidth ? colwidth.split(\",\").map((width) => parseInt(width, 10)) : null;\n          if (!value) {\n            const cols = (_a = element.closest(\"table\")) == null ? void 0 : _a.querySelectorAll(\"colgroup > col\");\n            const cellIndex = Array.from(((_b = element.parentElement) == null ? void 0 : _b.children) || []).indexOf(element);\n            if (cellIndex && cellIndex > -1 && cols && cols[cellIndex]) {\n              const colWidth = cols[cellIndex].getAttribute(\"width\");\n              return colWidth ? [parseInt(colWidth, 10)] : null;\n            }\n          }\n          return value;\n        }\n      }\n    };\n  },\n  tableRole: \"cell\",\n  isolating: true,\n  parseHTML() {\n    return [{ tag: \"td\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"td\", (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes), 0];\n  }\n});\n\n// src/header/table-header.ts\n\nvar TableHeader = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n  name: \"tableHeader\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  content: \"block+\",\n  addAttributes() {\n    return {\n      colspan: {\n        default: 1\n      },\n      rowspan: {\n        default: 1\n      },\n      colwidth: {\n        default: null,\n        parseHTML: (element) => {\n          const colwidth = element.getAttribute(\"colwidth\");\n          const value = colwidth ? colwidth.split(\",\").map((width) => parseInt(width, 10)) : null;\n          return value;\n        }\n      }\n    };\n  },\n  tableRole: \"header_cell\",\n  isolating: true,\n  parseHTML() {\n    return [{ tag: \"th\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"th\", (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes), 0];\n  }\n});\n\n// src/kit/index.ts\n\n\n// src/row/table-row.ts\n\nvar TableRow = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n  name: \"tableRow\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  content: \"(tableCell | tableHeader)*\",\n  tableRole: \"row\",\n  parseHTML() {\n    return [{ tag: \"tr\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"tr\", (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes), 0];\n  }\n});\n\n// src/table/table.ts\n\n\n\n\n// src/table/utilities/colStyle.ts\nfunction getColStyleDeclaration(minWidth, width) {\n  if (width) {\n    return [\"width\", `${Math.max(width, minWidth)}px`];\n  }\n  return [\"min-width\", `${minWidth}px`];\n}\n\n// src/table/TableView.ts\nfunction updateColumns(node, colgroup, table, cellMinWidth, overrideCol, overrideValue) {\n  var _a;\n  let totalWidth = 0;\n  let fixedWidth = true;\n  let nextDOM = colgroup.firstChild;\n  const row = node.firstChild;\n  if (row !== null) {\n    for (let i = 0, col = 0; i < row.childCount; i += 1) {\n      const { colspan, colwidth } = row.child(i).attrs;\n      for (let j = 0; j < colspan; j += 1, col += 1) {\n        const hasWidth = overrideCol === col ? overrideValue : colwidth && colwidth[j];\n        const cssWidth = hasWidth ? `${hasWidth}px` : \"\";\n        totalWidth += hasWidth || cellMinWidth;\n        if (!hasWidth) {\n          fixedWidth = false;\n        }\n        if (!nextDOM) {\n          const colElement = document.createElement(\"col\");\n          const [propertyKey, propertyValue] = getColStyleDeclaration(cellMinWidth, hasWidth);\n          colElement.style.setProperty(propertyKey, propertyValue);\n          colgroup.appendChild(colElement);\n        } else {\n          if (nextDOM.style.width !== cssWidth) {\n            const [propertyKey, propertyValue] = getColStyleDeclaration(cellMinWidth, hasWidth);\n            nextDOM.style.setProperty(propertyKey, propertyValue);\n          }\n          nextDOM = nextDOM.nextSibling;\n        }\n      }\n    }\n  }\n  while (nextDOM) {\n    const after = nextDOM.nextSibling;\n    (_a = nextDOM.parentNode) == null ? void 0 : _a.removeChild(nextDOM);\n    nextDOM = after;\n  }\n  const hasUserWidth = node.attrs.style && typeof node.attrs.style === \"string\" && /\\bwidth\\s*:/i.test(node.attrs.style);\n  if (fixedWidth && !hasUserWidth) {\n    table.style.width = `${totalWidth}px`;\n    table.style.minWidth = \"\";\n  } else {\n    table.style.width = \"\";\n    table.style.minWidth = `${totalWidth}px`;\n  }\n}\nvar TableView = class {\n  constructor(node, cellMinWidth) {\n    this.node = node;\n    this.cellMinWidth = cellMinWidth;\n    this.dom = document.createElement(\"div\");\n    this.dom.className = \"tableWrapper\";\n    this.table = this.dom.appendChild(document.createElement(\"table\"));\n    if (node.attrs.style) {\n      this.table.style.cssText = node.attrs.style;\n    }\n    this.colgroup = this.table.appendChild(document.createElement(\"colgroup\"));\n    updateColumns(node, this.colgroup, this.table, cellMinWidth);\n    this.contentDOM = this.table.appendChild(document.createElement(\"tbody\"));\n  }\n  update(node) {\n    if (node.type !== this.node.type) {\n      return false;\n    }\n    this.node = node;\n    updateColumns(node, this.colgroup, this.table, this.cellMinWidth);\n    return true;\n  }\n  ignoreMutation(mutation) {\n    const target = mutation.target;\n    const isInsideWrapper = this.dom.contains(target);\n    const isInsideContent = this.contentDOM.contains(target);\n    if (isInsideWrapper && !isInsideContent) {\n      if (mutation.type === \"attributes\" || mutation.type === \"childList\" || mutation.type === \"characterData\") {\n        return true;\n      }\n    }\n    return false;\n  }\n};\n\n// src/table/utilities/createColGroup.ts\nfunction createColGroup(node, cellMinWidth, overrideCol, overrideValue) {\n  let totalWidth = 0;\n  let fixedWidth = true;\n  const cols = [];\n  const row = node.firstChild;\n  if (!row) {\n    return {};\n  }\n  for (let i = 0, col = 0; i < row.childCount; i += 1) {\n    const { colspan, colwidth } = row.child(i).attrs;\n    for (let j = 0; j < colspan; j += 1, col += 1) {\n      const hasWidth = overrideCol === col ? overrideValue : colwidth && colwidth[j];\n      totalWidth += hasWidth || cellMinWidth;\n      if (!hasWidth) {\n        fixedWidth = false;\n      }\n      const [property, value] = getColStyleDeclaration(cellMinWidth, hasWidth);\n      cols.push([\"col\", { style: `${property}: ${value}` }]);\n    }\n  }\n  const tableWidth = fixedWidth ? `${totalWidth}px` : \"\";\n  const tableMinWidth = fixedWidth ? \"\" : `${totalWidth}px`;\n  const colgroup = [\"colgroup\", {}, ...cols];\n  return { colgroup, tableWidth, tableMinWidth };\n}\n\n// src/table/utilities/createCell.ts\nfunction createCell(cellType, cellContent) {\n  if (cellContent) {\n    return cellType.createChecked(null, cellContent);\n  }\n  return cellType.createAndFill();\n}\n\n// src/table/utilities/getTableNodeTypes.ts\nfunction getTableNodeTypes(schema) {\n  if (schema.cached.tableNodeTypes) {\n    return schema.cached.tableNodeTypes;\n  }\n  const roles = {};\n  Object.keys(schema.nodes).forEach((type) => {\n    const nodeType = schema.nodes[type];\n    if (nodeType.spec.tableRole) {\n      roles[nodeType.spec.tableRole] = nodeType;\n    }\n  });\n  schema.cached.tableNodeTypes = roles;\n  return roles;\n}\n\n// src/table/utilities/createTable.ts\nfunction createTable(schema, rowsCount, colsCount, withHeaderRow, cellContent) {\n  const types = getTableNodeTypes(schema);\n  const headerCells = [];\n  const cells = [];\n  for (let index = 0; index < colsCount; index += 1) {\n    const cell = createCell(types.cell, cellContent);\n    if (cell) {\n      cells.push(cell);\n    }\n    if (withHeaderRow) {\n      const headerCell = createCell(types.header_cell, cellContent);\n      if (headerCell) {\n        headerCells.push(headerCell);\n      }\n    }\n  }\n  const rows = [];\n  for (let index = 0; index < rowsCount; index += 1) {\n    rows.push(types.row.createChecked(null, withHeaderRow && index === 0 ? headerCells : cells));\n  }\n  return types.table.createChecked(null, rows);\n}\n\n// src/table/utilities/deleteTableWhenAllCellsSelected.ts\n\n\n// src/table/utilities/isCellSelection.ts\n\nfunction isCellSelection(value) {\n  return value instanceof _tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.CellSelection;\n}\n\n// src/table/utilities/deleteTableWhenAllCellsSelected.ts\nvar deleteTableWhenAllCellsSelected = ({ editor }) => {\n  const { selection } = editor.state;\n  if (!isCellSelection(selection)) {\n    return false;\n  }\n  let cellCount = 0;\n  const table = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.findParentNodeClosestToPos)(selection.ranges[0].$from, (node) => {\n    return node.type.name === \"table\";\n  });\n  table == null ? void 0 : table.node.descendants((node) => {\n    if (node.type.name === \"table\") {\n      return false;\n    }\n    if ([\"tableCell\", \"tableHeader\"].includes(node.type.name)) {\n      cellCount += 1;\n    }\n  });\n  const allCellsSelected = cellCount === selection.ranges.length;\n  if (!allCellsSelected) {\n    return false;\n  }\n  editor.commands.deleteTable();\n  return true;\n};\n\n// src/table/utilities/markdown.ts\nvar DEFAULT_CELL_LINE_SEPARATOR = \"\u001f\";\nfunction collapseWhitespace(s) {\n  return (s || \"\").replace(/\\s+/g, \" \").trim();\n}\nfunction renderTableToMarkdown(node, h, options = {}) {\n  var _a;\n  const cellSep = (_a = options.cellLineSeparator) != null ? _a : DEFAULT_CELL_LINE_SEPARATOR;\n  if (!node || !node.content || node.content.length === 0) {\n    return \"\";\n  }\n  const rows = [];\n  node.content.forEach((rowNode) => {\n    const cells = [];\n    if (rowNode.content) {\n      rowNode.content.forEach((cellNode) => {\n        let raw = \"\";\n        if (cellNode.content && Array.isArray(cellNode.content) && cellNode.content.length > 1) {\n          const parts = cellNode.content.map((child) => h.renderChildren(child));\n          raw = parts.join(cellSep);\n        } else {\n          raw = cellNode.content ? h.renderChildren(cellNode.content) : \"\";\n        }\n        const text = collapseWhitespace(raw);\n        const isHeader = cellNode.type === \"tableHeader\";\n        cells.push({ text, isHeader });\n      });\n    }\n    rows.push(cells);\n  });\n  const columnCount = rows.reduce((max, r) => Math.max(max, r.length), 0);\n  if (columnCount === 0) {\n    return \"\";\n  }\n  const colWidths = new Array(columnCount).fill(0);\n  rows.forEach((r) => {\n    var _a2;\n    for (let i = 0; i < columnCount; i += 1) {\n      const cell = ((_a2 = r[i]) == null ? void 0 : _a2.text) || \"\";\n      const len = cell.length;\n      if (len > colWidths[i]) {\n        colWidths[i] = len;\n      }\n      if (colWidths[i] < 3) {\n        colWidths[i] = 3;\n      }\n    }\n  });\n  const pad = (s, width) => s + \" \".repeat(Math.max(0, width - s.length));\n  const headerRow = rows[0];\n  const hasHeader = headerRow.some((c) => c.isHeader);\n  let out = \"\\n\";\n  const headerTexts = new Array(columnCount).fill(0).map((_, i) => hasHeader ? headerRow[i] && headerRow[i].text || \"\" : \"\");\n  out += `| ${headerTexts.map((t, i) => pad(t, colWidths[i])).join(\" | \")} |\n`;\n  out += `| ${colWidths.map((w) => \"-\".repeat(Math.max(3, w))).join(\" | \")} |\n`;\n  const body = hasHeader ? rows.slice(1) : rows;\n  body.forEach((r) => {\n    out += `| ${new Array(columnCount).fill(0).map((_, i) => pad(r[i] && r[i].text || \"\", colWidths[i])).join(\" | \")} |\n`;\n  });\n  return out;\n}\nvar markdown_default = renderTableToMarkdown;\n\n// src/table/table.ts\nvar Table = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n  name: \"table\",\n  // @ts-ignore\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n      resizable: false,\n      renderWrapper: false,\n      handleWidth: 5,\n      cellMinWidth: 25,\n      // TODO: fix\n      View: TableView,\n      lastColumnResizable: true,\n      allowTableNodeSelection: false\n    };\n  },\n  content: \"tableRow+\",\n  tableRole: \"table\",\n  isolating: true,\n  group: \"block\",\n  parseHTML() {\n    return [{ tag: \"table\" }];\n  },\n  renderHTML({ node, HTMLAttributes }) {\n    const { colgroup, tableWidth, tableMinWidth } = createColGroup(node, this.options.cellMinWidth);\n    const userStyles = HTMLAttributes.style;\n    function getTableStyle() {\n      if (userStyles) {\n        return userStyles;\n      }\n      return tableWidth ? `width: ${tableWidth}` : `min-width: ${tableMinWidth}`;\n    }\n    const table = [\n      \"table\",\n      (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes, {\n        style: getTableStyle()\n      }),\n      colgroup,\n      [\"tbody\", 0]\n    ];\n    return this.options.renderWrapper ? [\"div\", { class: \"tableWrapper\" }, table] : table;\n  },\n  parseMarkdown: (token, h) => {\n    const rows = [];\n    if (token.header) {\n      const headerCells = [];\n      token.header.forEach((cell) => {\n        headerCells.push(h.createNode(\"tableHeader\", {}, [{ type: \"paragraph\", content: h.parseInline(cell.tokens) }]));\n      });\n      rows.push(h.createNode(\"tableRow\", {}, headerCells));\n    }\n    if (token.rows) {\n      token.rows.forEach((row) => {\n        const bodyCells = [];\n        row.forEach((cell) => {\n          bodyCells.push(h.createNode(\"tableCell\", {}, [{ type: \"paragraph\", content: h.parseInline(cell.tokens) }]));\n        });\n        rows.push(h.createNode(\"tableRow\", {}, bodyCells));\n      });\n    }\n    return h.createNode(\"table\", void 0, rows);\n  },\n  renderMarkdown: (node, h) => {\n    return markdown_default(node, h);\n  },\n  addCommands() {\n    return {\n      insertTable: ({ rows = 3, cols = 3, withHeaderRow = true } = {}) => ({ tr, dispatch, editor }) => {\n        const node = createTable(editor.schema, rows, cols, withHeaderRow);\n        if (dispatch) {\n          const offset = tr.selection.from + 1;\n          tr.replaceSelectionWith(node).scrollIntoView().setSelection(_tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.TextSelection.near(tr.doc.resolve(offset)));\n        }\n        return true;\n      },\n      addColumnBefore: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.addColumnBefore)(state, dispatch);\n      },\n      addColumnAfter: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.addColumnAfter)(state, dispatch);\n      },\n      deleteColumn: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.deleteColumn)(state, dispatch);\n      },\n      addRowBefore: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.addRowBefore)(state, dispatch);\n      },\n      addRowAfter: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.addRowAfter)(state, dispatch);\n      },\n      deleteRow: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.deleteRow)(state, dispatch);\n      },\n      deleteTable: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.deleteTable)(state, dispatch);\n      },\n      mergeCells: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.mergeCells)(state, dispatch);\n      },\n      splitCell: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.splitCell)(state, dispatch);\n      },\n      toggleHeaderColumn: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.toggleHeader)(\"column\")(state, dispatch);\n      },\n      toggleHeaderRow: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.toggleHeader)(\"row\")(state, dispatch);\n      },\n      toggleHeaderCell: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.toggleHeaderCell)(state, dispatch);\n      },\n      mergeOrSplit: () => ({ state, dispatch }) => {\n        if ((0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.mergeCells)(state, dispatch)) {\n          return true;\n        }\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.splitCell)(state, dispatch);\n      },\n      setCellAttribute: (name, value) => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.setCellAttr)(name, value)(state, dispatch);\n      },\n      goToNextCell: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.goToNextCell)(1)(state, dispatch);\n      },\n      goToPreviousCell: () => ({ state, dispatch }) => {\n        return (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.goToNextCell)(-1)(state, dispatch);\n      },\n      fixTables: () => ({ state, dispatch }) => {\n        if (dispatch) {\n          (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.fixTables)(state);\n        }\n        return true;\n      },\n      setCellSelection: (position) => ({ tr, dispatch }) => {\n        if (dispatch) {\n          const selection = _tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.CellSelection.create(tr.doc, position.anchorCell, position.headCell);\n          tr.setSelection(selection);\n        }\n        return true;\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      Tab: () => {\n        if (this.editor.commands.goToNextCell()) {\n          return true;\n        }\n        if (!this.editor.can().addRowAfter()) {\n          return false;\n        }\n        return this.editor.chain().addRowAfter().goToNextCell().run();\n      },\n      \"Shift-Tab\": () => this.editor.commands.goToPreviousCell(),\n      Backspace: deleteTableWhenAllCellsSelected,\n      \"Mod-Backspace\": deleteTableWhenAllCellsSelected,\n      Delete: deleteTableWhenAllCellsSelected,\n      \"Mod-Delete\": deleteTableWhenAllCellsSelected\n    };\n  },\n  addProseMirrorPlugins() {\n    const isResizable = this.options.resizable && this.editor.isEditable;\n    return [\n      ...isResizable ? [\n        (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.columnResizing)({\n          handleWidth: this.options.handleWidth,\n          cellMinWidth: this.options.cellMinWidth,\n          defaultCellMinWidth: this.options.cellMinWidth,\n          View: this.options.View,\n          lastColumnResizable: this.options.lastColumnResizable\n        })\n      ] : [],\n      (0,_tiptap_pm_tables__WEBPACK_IMPORTED_MODULE_2__.tableEditing)({\n        allowTableNodeSelection: this.options.allowTableNodeSelection\n      })\n    ];\n  },\n  extendNodeSchema(extension) {\n    const context = {\n      name: extension.name,\n      options: extension.options,\n      storage: extension.storage\n    };\n    return {\n      tableRole: (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.callOrReturn)((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.getExtensionField)(extension, \"tableRole\", context))\n    };\n  }\n});\n\n// src/kit/index.ts\nvar TableKit = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Extension.create({\n  name: \"tableKit\",\n  addExtensions() {\n    const extensions = [];\n    if (this.options.table !== false) {\n      extensions.push(Table.configure(this.options.table));\n    }\n    if (this.options.tableCell !== false) {\n      extensions.push(TableCell.configure(this.options.tableCell));\n    }\n    if (this.options.tableHeader !== false) {\n      extensions.push(TableHeader.configure(this.options.tableHeader));\n    }\n    if (this.options.tableRow !== false) {\n      extensions.push(TableRow.configure(this.options.tableRow));\n    }\n    return extensions;\n  }\n});\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRpcHRhcCtleHRlbnNpb24tdGFibGVAMy4xOS4wX0B0aXB0YXArY29yZUAzLjE5LjBfQHRpcHRhcCtwbUAzLjE5LjBfX0B0aXB0YXArcG1AMy4xOS4wL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi10YWJsZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDcUQ7QUFDckQsZ0JBQWdCLDhDQUFJO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxjQUFjLFdBQVc7QUFDekIsR0FBRztBQUNILGVBQWUsZ0JBQWdCO0FBQy9CLGtCQUFrQiw2REFBZTtBQUNqQztBQUNBLENBQUM7O0FBRUQ7QUFDa0Y7QUFDbEYsa0JBQWtCLDhDQUFLO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxjQUFjLFdBQVc7QUFDekIsR0FBRztBQUNILGVBQWUsZ0JBQWdCO0FBQy9CLGtCQUFrQiw2REFBZ0I7QUFDbEM7QUFDQSxDQUFDOztBQUVEO0FBQ3lDOztBQUV6QztBQUNrRjtBQUNsRixlQUFlLDhDQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Es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Q0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDBEQUFZLENBQUMsK0RBQWlCO0FBQy9DO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EsZUFBZSxtREFBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQWFDO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy8xcjBuZjFzdC8xcjBuZjFzdC13ZWJzaXRlL25vZGVfbW9kdWxlcy8ucG5wbS9AdGlwdGFwK2V4dGVuc2lvbi10YWJsZUAzLjE5LjBfQHRpcHRhcCtjb3JlQDMuMTkuMF9AdGlwdGFwK3BtQDMuMTkuMF9fQHRpcHRhcCtwbUAzLjE5LjAvbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLXRhYmxlL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NlbGwvdGFibGUtY2VsbC50c1xuaW1wb3J0IHsgbWVyZ2VBdHRyaWJ1dGVzLCBOb2RlIH0gZnJvbSBcIkB0aXB0YXAvY29yZVwiO1xudmFyIFRhYmxlQ2VsbCA9IE5vZGUuY3JlYXRlKHtcbiAgbmFtZTogXCJ0YWJsZUNlbGxcIixcbiAgYWRkT3B0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9XG4gICAgfTtcbiAgfSxcbiAgY29udGVudDogXCJibG9jaytcIixcbiAgYWRkQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sc3Bhbjoge1xuICAgICAgICBkZWZhdWx0OiAxXG4gICAgICB9LFxuICAgICAgcm93c3Bhbjoge1xuICAgICAgICBkZWZhdWx0OiAxXG4gICAgICB9LFxuICAgICAgY29sd2lkdGg6IHtcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgcGFyc2VIVE1MOiAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgY29uc3QgY29sd2lkdGggPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNvbHdpZHRoXCIpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY29sd2lkdGggPyBjb2x3aWR0aC5zcGxpdChcIixcIikubWFwKCh3aWR0aCkgPT4gcGFyc2VJbnQod2lkdGgsIDEwKSkgOiBudWxsO1xuICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbHMgPSAoX2EgPSBlbGVtZW50LmNsb3Nlc3QoXCJ0YWJsZVwiKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnF1ZXJ5U2VsZWN0b3JBbGwoXCJjb2xncm91cCA+IGNvbFwiKTtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxJbmRleCA9IEFycmF5LmZyb20oKChfYiA9IGVsZW1lbnQucGFyZW50RWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNoaWxkcmVuKSB8fCBbXSkuaW5kZXhPZihlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChjZWxsSW5kZXggJiYgY2VsbEluZGV4ID4gLTEgJiYgY29scyAmJiBjb2xzW2NlbGxJbmRleF0pIHtcbiAgICAgICAgICAgICAgY29uc3QgY29sV2lkdGggPSBjb2xzW2NlbGxJbmRleF0uZ2V0QXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICAgICAgICAgIHJldHVybiBjb2xXaWR0aCA/IFtwYXJzZUludChjb2xXaWR0aCwgMTApXSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIHRhYmxlUm9sZTogXCJjZWxsXCIsXG4gIGlzb2xhdGluZzogdHJ1ZSxcbiAgcGFyc2VIVE1MKCkge1xuICAgIHJldHVybiBbeyB0YWc6IFwidGRcIiB9XTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcbiAgICByZXR1cm4gW1widGRcIiwgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcbiAgfVxufSk7XG5cbi8vIHNyYy9oZWFkZXIvdGFibGUtaGVhZGVyLnRzXG5pbXBvcnQgeyBtZXJnZUF0dHJpYnV0ZXMgYXMgbWVyZ2VBdHRyaWJ1dGVzMiwgTm9kZSBhcyBOb2RlMiB9IGZyb20gXCJAdGlwdGFwL2NvcmVcIjtcbnZhciBUYWJsZUhlYWRlciA9IE5vZGUyLmNyZWF0ZSh7XG4gIG5hbWU6IFwidGFibGVIZWFkZXJcIixcbiAgYWRkT3B0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9XG4gICAgfTtcbiAgfSxcbiAgY29udGVudDogXCJibG9jaytcIixcbiAgYWRkQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sc3Bhbjoge1xuICAgICAgICBkZWZhdWx0OiAxXG4gICAgICB9LFxuICAgICAgcm93c3Bhbjoge1xuICAgICAgICBkZWZhdWx0OiAxXG4gICAgICB9LFxuICAgICAgY29sd2lkdGg6IHtcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgcGFyc2VIVE1MOiAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbHdpZHRoID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb2x3aWR0aFwiKTtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbHdpZHRoID8gY29sd2lkdGguc3BsaXQoXCIsXCIpLm1hcCgod2lkdGgpID0+IHBhcnNlSW50KHdpZHRoLCAxMCkpIDogbnVsbDtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICB0YWJsZVJvbGU6IFwiaGVhZGVyX2NlbGxcIixcbiAgaXNvbGF0aW5nOiB0cnVlLFxuICBwYXJzZUhUTUwoKSB7XG4gICAgcmV0dXJuIFt7IHRhZzogXCJ0aFwiIH1dO1xuICB9LFxuICByZW5kZXJIVE1MKHsgSFRNTEF0dHJpYnV0ZXMgfSkge1xuICAgIHJldHVybiBbXCJ0aFwiLCBtZXJnZUF0dHJpYnV0ZXMyKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcbiAgfVxufSk7XG5cbi8vIHNyYy9raXQvaW5kZXgudHNcbmltcG9ydCB7IEV4dGVuc2lvbiB9IGZyb20gXCJAdGlwdGFwL2NvcmVcIjtcblxuLy8gc3JjL3Jvdy90YWJsZS1yb3cudHNcbmltcG9ydCB7IG1lcmdlQXR0cmlidXRlcyBhcyBtZXJnZUF0dHJpYnV0ZXMzLCBOb2RlIGFzIE5vZGUzIH0gZnJvbSBcIkB0aXB0YXAvY29yZVwiO1xudmFyIFRhYmxlUm93ID0gTm9kZTMuY3JlYXRlKHtcbiAgbmFtZTogXCJ0YWJsZVJvd1wiLFxuICBhZGRPcHRpb25zKCkge1xuICAgIHJldHVybiB7XG4gICAgICBIVE1MQXR0cmlidXRlczoge31cbiAgICB9O1xuICB9LFxuICBjb250ZW50OiBcIih0YWJsZUNlbGwgfCB0YWJsZUhlYWRlcikqXCIsXG4gIHRhYmxlUm9sZTogXCJyb3dcIixcbiAgcGFyc2VIVE1MKCkge1xuICAgIHJldHVybiBbeyB0YWc6IFwidHJcIiB9XTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcbiAgICByZXR1cm4gW1widHJcIiwgbWVyZ2VBdHRyaWJ1dGVzMyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKSwgMF07XG4gIH1cbn0pO1xuXG4vLyBzcmMvdGFibGUvdGFibGUudHNcbmltcG9ydCB7XG4gIGNhbGxPclJldHVybixcbiAgZ2V0RXh0ZW5zaW9uRmllbGQsXG4gIG1lcmdlQXR0cmlidXRlcyBhcyBtZXJnZUF0dHJpYnV0ZXM0LFxuICBOb2RlIGFzIE5vZGU0XG59IGZyb20gXCJAdGlwdGFwL2NvcmVcIjtcbmltcG9ydCB7IFRleHRTZWxlY3Rpb24gfSBmcm9tIFwiQHRpcHRhcC9wbS9zdGF0ZVwiO1xuaW1wb3J0IHtcbiAgYWRkQ29sdW1uQWZ0ZXIsXG4gIGFkZENvbHVtbkJlZm9yZSxcbiAgYWRkUm93QWZ0ZXIsXG4gIGFkZFJvd0JlZm9yZSxcbiAgQ2VsbFNlbGVjdGlvbiBhcyBDZWxsU2VsZWN0aW9uMixcbiAgY29sdW1uUmVzaXppbmcsXG4gIGRlbGV0ZUNvbHVtbixcbiAgZGVsZXRlUm93LFxuICBkZWxldGVUYWJsZSxcbiAgZml4VGFibGVzLFxuICBnb1RvTmV4dENlbGwsXG4gIG1lcmdlQ2VsbHMsXG4gIHNldENlbGxBdHRyLFxuICBzcGxpdENlbGwsXG4gIHRhYmxlRWRpdGluZyxcbiAgdG9nZ2xlSGVhZGVyLFxuICB0b2dnbGVIZWFkZXJDZWxsXG59IGZyb20gXCJAdGlwdGFwL3BtL3RhYmxlc1wiO1xuXG4vLyBzcmMvdGFibGUvdXRpbGl0aWVzL2NvbFN0eWxlLnRzXG5mdW5jdGlvbiBnZXRDb2xTdHlsZURlY2xhcmF0aW9uKG1pbldpZHRoLCB3aWR0aCkge1xuICBpZiAod2lkdGgpIHtcbiAgICByZXR1cm4gW1wid2lkdGhcIiwgYCR7TWF0aC5tYXgod2lkdGgsIG1pbldpZHRoKX1weGBdO1xuICB9XG4gIHJldHVybiBbXCJtaW4td2lkdGhcIiwgYCR7bWluV2lkdGh9cHhgXTtcbn1cblxuLy8gc3JjL3RhYmxlL1RhYmxlVmlldy50c1xuZnVuY3Rpb24gdXBkYXRlQ29sdW1ucyhub2RlLCBjb2xncm91cCwgdGFibGUsIGNlbGxNaW5XaWR0aCwgb3ZlcnJpZGVDb2wsIG92ZXJyaWRlVmFsdWUpIHtcbiAgdmFyIF9hO1xuICBsZXQgdG90YWxXaWR0aCA9IDA7XG4gIGxldCBmaXhlZFdpZHRoID0gdHJ1ZTtcbiAgbGV0IG5leHRET00gPSBjb2xncm91cC5maXJzdENoaWxkO1xuICBjb25zdCByb3cgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gIGlmIChyb3cgIT09IG51bGwpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgY29sID0gMDsgaSA8IHJvdy5jaGlsZENvdW50OyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHsgY29sc3BhbiwgY29sd2lkdGggfSA9IHJvdy5jaGlsZChpKS5hdHRycztcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sc3BhbjsgaiArPSAxLCBjb2wgKz0gMSkge1xuICAgICAgICBjb25zdCBoYXNXaWR0aCA9IG92ZXJyaWRlQ29sID09PSBjb2wgPyBvdmVycmlkZVZhbHVlIDogY29sd2lkdGggJiYgY29sd2lkdGhbal07XG4gICAgICAgIGNvbnN0IGNzc1dpZHRoID0gaGFzV2lkdGggPyBgJHtoYXNXaWR0aH1weGAgOiBcIlwiO1xuICAgICAgICB0b3RhbFdpZHRoICs9IGhhc1dpZHRoIHx8IGNlbGxNaW5XaWR0aDtcbiAgICAgICAgaWYgKCFoYXNXaWR0aCkge1xuICAgICAgICAgIGZpeGVkV2lkdGggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5leHRET00pIHtcbiAgICAgICAgICBjb25zdCBjb2xFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNvbFwiKTtcbiAgICAgICAgICBjb25zdCBbcHJvcGVydHlLZXksIHByb3BlcnR5VmFsdWVdID0gZ2V0Q29sU3R5bGVEZWNsYXJhdGlvbihjZWxsTWluV2lkdGgsIGhhc1dpZHRoKTtcbiAgICAgICAgICBjb2xFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5S2V5LCBwcm9wZXJ0eVZhbHVlKTtcbiAgICAgICAgICBjb2xncm91cC5hcHBlbmRDaGlsZChjb2xFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobmV4dERPTS5zdHlsZS53aWR0aCAhPT0gY3NzV2lkdGgpIHtcbiAgICAgICAgICAgIGNvbnN0IFtwcm9wZXJ0eUtleSwgcHJvcGVydHlWYWx1ZV0gPSBnZXRDb2xTdHlsZURlY2xhcmF0aW9uKGNlbGxNaW5XaWR0aCwgaGFzV2lkdGgpO1xuICAgICAgICAgICAgbmV4dERPTS5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eUtleSwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHRET00gPSBuZXh0RE9NLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHdoaWxlIChuZXh0RE9NKSB7XG4gICAgY29uc3QgYWZ0ZXIgPSBuZXh0RE9NLm5leHRTaWJsaW5nO1xuICAgIChfYSA9IG5leHRET00ucGFyZW50Tm9kZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlbW92ZUNoaWxkKG5leHRET00pO1xuICAgIG5leHRET00gPSBhZnRlcjtcbiAgfVxuICBjb25zdCBoYXNVc2VyV2lkdGggPSBub2RlLmF0dHJzLnN0eWxlICYmIHR5cGVvZiBub2RlLmF0dHJzLnN0eWxlID09PSBcInN0cmluZ1wiICYmIC9cXGJ3aWR0aFxccyo6L2kudGVzdChub2RlLmF0dHJzLnN0eWxlKTtcbiAgaWYgKGZpeGVkV2lkdGggJiYgIWhhc1VzZXJXaWR0aCkge1xuICAgIHRhYmxlLnN0eWxlLndpZHRoID0gYCR7dG90YWxXaWR0aH1weGA7XG4gICAgdGFibGUuc3R5bGUubWluV2lkdGggPSBcIlwiO1xuICB9IGVsc2Uge1xuICAgIHRhYmxlLnN0eWxlLndpZHRoID0gXCJcIjtcbiAgICB0YWJsZS5zdHlsZS5taW5XaWR0aCA9IGAke3RvdGFsV2lkdGh9cHhgO1xuICB9XG59XG52YXIgVGFibGVWaWV3ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihub2RlLCBjZWxsTWluV2lkdGgpIHtcbiAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgIHRoaXMuY2VsbE1pbldpZHRoID0gY2VsbE1pbldpZHRoO1xuICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcInRhYmxlV3JhcHBlclwiO1xuICAgIHRoaXMudGFibGUgPSB0aGlzLmRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIikpO1xuICAgIGlmIChub2RlLmF0dHJzLnN0eWxlKSB7XG4gICAgICB0aGlzLnRhYmxlLnN0eWxlLmNzc1RleHQgPSBub2RlLmF0dHJzLnN0eWxlO1xuICAgIH1cbiAgICB0aGlzLmNvbGdyb3VwID0gdGhpcy50YWJsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY29sZ3JvdXBcIikpO1xuICAgIHVwZGF0ZUNvbHVtbnMobm9kZSwgdGhpcy5jb2xncm91cCwgdGhpcy50YWJsZSwgY2VsbE1pbldpZHRoKTtcbiAgICB0aGlzLmNvbnRlbnRET00gPSB0aGlzLnRhYmxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSk7XG4gIH1cbiAgdXBkYXRlKG5vZGUpIHtcbiAgICBpZiAobm9kZS50eXBlICE9PSB0aGlzLm5vZGUudHlwZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgIHVwZGF0ZUNvbHVtbnMobm9kZSwgdGhpcy5jb2xncm91cCwgdGhpcy50YWJsZSwgdGhpcy5jZWxsTWluV2lkdGgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlnbm9yZU11dGF0aW9uKG11dGF0aW9uKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gbXV0YXRpb24udGFyZ2V0O1xuICAgIGNvbnN0IGlzSW5zaWRlV3JhcHBlciA9IHRoaXMuZG9tLmNvbnRhaW5zKHRhcmdldCk7XG4gICAgY29uc3QgaXNJbnNpZGVDb250ZW50ID0gdGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKHRhcmdldCk7XG4gICAgaWYgKGlzSW5zaWRlV3JhcHBlciAmJiAhaXNJbnNpZGVDb250ZW50KSB7XG4gICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gXCJhdHRyaWJ1dGVzXCIgfHwgbXV0YXRpb24udHlwZSA9PT0gXCJjaGlsZExpc3RcIiB8fCBtdXRhdGlvbi50eXBlID09PSBcImNoYXJhY3RlckRhdGFcIikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBzcmMvdGFibGUvdXRpbGl0aWVzL2NyZWF0ZUNvbEdyb3VwLnRzXG5mdW5jdGlvbiBjcmVhdGVDb2xHcm91cChub2RlLCBjZWxsTWluV2lkdGgsIG92ZXJyaWRlQ29sLCBvdmVycmlkZVZhbHVlKSB7XG4gIGxldCB0b3RhbFdpZHRoID0gMDtcbiAgbGV0IGZpeGVkV2lkdGggPSB0cnVlO1xuICBjb25zdCBjb2xzID0gW107XG4gIGNvbnN0IHJvdyA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgaWYgKCFyb3cpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGNvbCA9IDA7IGkgPCByb3cuY2hpbGRDb3VudDsgaSArPSAxKSB7XG4gICAgY29uc3QgeyBjb2xzcGFuLCBjb2x3aWR0aCB9ID0gcm93LmNoaWxkKGkpLmF0dHJzO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sc3BhbjsgaiArPSAxLCBjb2wgKz0gMSkge1xuICAgICAgY29uc3QgaGFzV2lkdGggPSBvdmVycmlkZUNvbCA9PT0gY29sID8gb3ZlcnJpZGVWYWx1ZSA6IGNvbHdpZHRoICYmIGNvbHdpZHRoW2pdO1xuICAgICAgdG90YWxXaWR0aCArPSBoYXNXaWR0aCB8fCBjZWxsTWluV2lkdGg7XG4gICAgICBpZiAoIWhhc1dpZHRoKSB7XG4gICAgICAgIGZpeGVkV2lkdGggPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFtwcm9wZXJ0eSwgdmFsdWVdID0gZ2V0Q29sU3R5bGVEZWNsYXJhdGlvbihjZWxsTWluV2lkdGgsIGhhc1dpZHRoKTtcbiAgICAgIGNvbHMucHVzaChbXCJjb2xcIiwgeyBzdHlsZTogYCR7cHJvcGVydHl9OiAke3ZhbHVlfWAgfV0pO1xuICAgIH1cbiAgfVxuICBjb25zdCB0YWJsZVdpZHRoID0gZml4ZWRXaWR0aCA/IGAke3RvdGFsV2lkdGh9cHhgIDogXCJcIjtcbiAgY29uc3QgdGFibGVNaW5XaWR0aCA9IGZpeGVkV2lkdGggPyBcIlwiIDogYCR7dG90YWxXaWR0aH1weGA7XG4gIGNvbnN0IGNvbGdyb3VwID0gW1wiY29sZ3JvdXBcIiwge30sIC4uLmNvbHNdO1xuICByZXR1cm4geyBjb2xncm91cCwgdGFibGVXaWR0aCwgdGFibGVNaW5XaWR0aCB9O1xufVxuXG4vLyBzcmMvdGFibGUvdXRpbGl0aWVzL2NyZWF0ZUNlbGwudHNcbmZ1bmN0aW9uIGNyZWF0ZUNlbGwoY2VsbFR5cGUsIGNlbGxDb250ZW50KSB7XG4gIGlmIChjZWxsQ29udGVudCkge1xuICAgIHJldHVybiBjZWxsVHlwZS5jcmVhdGVDaGVja2VkKG51bGwsIGNlbGxDb250ZW50KTtcbiAgfVxuICByZXR1cm4gY2VsbFR5cGUuY3JlYXRlQW5kRmlsbCgpO1xufVxuXG4vLyBzcmMvdGFibGUvdXRpbGl0aWVzL2dldFRhYmxlTm9kZVR5cGVzLnRzXG5mdW5jdGlvbiBnZXRUYWJsZU5vZGVUeXBlcyhzY2hlbWEpIHtcbiAgaWYgKHNjaGVtYS5jYWNoZWQudGFibGVOb2RlVHlwZXMpIHtcbiAgICByZXR1cm4gc2NoZW1hLmNhY2hlZC50YWJsZU5vZGVUeXBlcztcbiAgfVxuICBjb25zdCByb2xlcyA9IHt9O1xuICBPYmplY3Qua2V5cyhzY2hlbWEubm9kZXMpLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICBjb25zdCBub2RlVHlwZSA9IHNjaGVtYS5ub2Rlc1t0eXBlXTtcbiAgICBpZiAobm9kZVR5cGUuc3BlYy50YWJsZVJvbGUpIHtcbiAgICAgIHJvbGVzW25vZGVUeXBlLnNwZWMudGFibGVSb2xlXSA9IG5vZGVUeXBlO1xuICAgIH1cbiAgfSk7XG4gIHNjaGVtYS5jYWNoZWQudGFibGVOb2RlVHlwZXMgPSByb2xlcztcbiAgcmV0dXJuIHJvbGVzO1xufVxuXG4vLyBzcmMvdGFibGUvdXRpbGl0aWVzL2NyZWF0ZVRhYmxlLnRzXG5mdW5jdGlvbiBjcmVhdGVUYWJsZShzY2hlbWEsIHJvd3NDb3VudCwgY29sc0NvdW50LCB3aXRoSGVhZGVyUm93LCBjZWxsQ29udGVudCkge1xuICBjb25zdCB0eXBlcyA9IGdldFRhYmxlTm9kZVR5cGVzKHNjaGVtYSk7XG4gIGNvbnN0IGhlYWRlckNlbGxzID0gW107XG4gIGNvbnN0IGNlbGxzID0gW107XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjb2xzQ291bnQ7IGluZGV4ICs9IDEpIHtcbiAgICBjb25zdCBjZWxsID0gY3JlYXRlQ2VsbCh0eXBlcy5jZWxsLCBjZWxsQ29udGVudCk7XG4gICAgaWYgKGNlbGwpIHtcbiAgICAgIGNlbGxzLnB1c2goY2VsbCk7XG4gICAgfVxuICAgIGlmICh3aXRoSGVhZGVyUm93KSB7XG4gICAgICBjb25zdCBoZWFkZXJDZWxsID0gY3JlYXRlQ2VsbCh0eXBlcy5oZWFkZXJfY2VsbCwgY2VsbENvbnRlbnQpO1xuICAgICAgaWYgKGhlYWRlckNlbGwpIHtcbiAgICAgICAgaGVhZGVyQ2VsbHMucHVzaChoZWFkZXJDZWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3Qgcm93cyA9IFtdO1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcm93c0NvdW50OyBpbmRleCArPSAxKSB7XG4gICAgcm93cy5wdXNoKHR5cGVzLnJvdy5jcmVhdGVDaGVja2VkKG51bGwsIHdpdGhIZWFkZXJSb3cgJiYgaW5kZXggPT09IDAgPyBoZWFkZXJDZWxscyA6IGNlbGxzKSk7XG4gIH1cbiAgcmV0dXJuIHR5cGVzLnRhYmxlLmNyZWF0ZUNoZWNrZWQobnVsbCwgcm93cyk7XG59XG5cbi8vIHNyYy90YWJsZS91dGlsaXRpZXMvZGVsZXRlVGFibGVXaGVuQWxsQ2VsbHNTZWxlY3RlZC50c1xuaW1wb3J0IHsgZmluZFBhcmVudE5vZGVDbG9zZXN0VG9Qb3MgfSBmcm9tIFwiQHRpcHRhcC9jb3JlXCI7XG5cbi8vIHNyYy90YWJsZS91dGlsaXRpZXMvaXNDZWxsU2VsZWN0aW9uLnRzXG5pbXBvcnQgeyBDZWxsU2VsZWN0aW9uIH0gZnJvbSBcIkB0aXB0YXAvcG0vdGFibGVzXCI7XG5mdW5jdGlvbiBpc0NlbGxTZWxlY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgQ2VsbFNlbGVjdGlvbjtcbn1cblxuLy8gc3JjL3RhYmxlL3V0aWxpdGllcy9kZWxldGVUYWJsZVdoZW5BbGxDZWxsc1NlbGVjdGVkLnRzXG52YXIgZGVsZXRlVGFibGVXaGVuQWxsQ2VsbHNTZWxlY3RlZCA9ICh7IGVkaXRvciB9KSA9PiB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3Iuc3RhdGU7XG4gIGlmICghaXNDZWxsU2VsZWN0aW9uKHNlbGVjdGlvbikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGNlbGxDb3VudCA9IDA7XG4gIGNvbnN0IHRhYmxlID0gZmluZFBhcmVudE5vZGVDbG9zZXN0VG9Qb3Moc2VsZWN0aW9uLnJhbmdlc1swXS4kZnJvbSwgKG5vZGUpID0+IHtcbiAgICByZXR1cm4gbm9kZS50eXBlLm5hbWUgPT09IFwidGFibGVcIjtcbiAgfSk7XG4gIHRhYmxlID09IG51bGwgPyB2b2lkIDAgOiB0YWJsZS5ub2RlLmRlc2NlbmRhbnRzKChub2RlKSA9PiB7XG4gICAgaWYgKG5vZGUudHlwZS5uYW1lID09PSBcInRhYmxlXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFtcInRhYmxlQ2VsbFwiLCBcInRhYmxlSGVhZGVyXCJdLmluY2x1ZGVzKG5vZGUudHlwZS5uYW1lKSkge1xuICAgICAgY2VsbENvdW50ICs9IDE7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgYWxsQ2VsbHNTZWxlY3RlZCA9IGNlbGxDb3VudCA9PT0gc2VsZWN0aW9uLnJhbmdlcy5sZW5ndGg7XG4gIGlmICghYWxsQ2VsbHNTZWxlY3RlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBlZGl0b3IuY29tbWFuZHMuZGVsZXRlVGFibGUoKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vLyBzcmMvdGFibGUvdXRpbGl0aWVzL21hcmtkb3duLnRzXG52YXIgREVGQVVMVF9DRUxMX0xJTkVfU0VQQVJBVE9SID0gXCJcdTAwMWZcIjtcbmZ1bmN0aW9uIGNvbGxhcHNlV2hpdGVzcGFjZShzKSB7XG4gIHJldHVybiAocyB8fCBcIlwiKS5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKS50cmltKCk7XG59XG5mdW5jdGlvbiByZW5kZXJUYWJsZVRvTWFya2Rvd24obm9kZSwgaCwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgY2VsbFNlcCA9IChfYSA9IG9wdGlvbnMuY2VsbExpbmVTZXBhcmF0b3IpICE9IG51bGwgPyBfYSA6IERFRkFVTFRfQ0VMTF9MSU5FX1NFUEFSQVRPUjtcbiAgaWYgKCFub2RlIHx8ICFub2RlLmNvbnRlbnQgfHwgbm9kZS5jb250ZW50Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IHJvd3MgPSBbXTtcbiAgbm9kZS5jb250ZW50LmZvckVhY2goKHJvd05vZGUpID0+IHtcbiAgICBjb25zdCBjZWxscyA9IFtdO1xuICAgIGlmIChyb3dOb2RlLmNvbnRlbnQpIHtcbiAgICAgIHJvd05vZGUuY29udGVudC5mb3JFYWNoKChjZWxsTm9kZSkgPT4ge1xuICAgICAgICBsZXQgcmF3ID0gXCJcIjtcbiAgICAgICAgaWYgKGNlbGxOb2RlLmNvbnRlbnQgJiYgQXJyYXkuaXNBcnJheShjZWxsTm9kZS5jb250ZW50KSAmJiBjZWxsTm9kZS5jb250ZW50Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IGNlbGxOb2RlLmNvbnRlbnQubWFwKChjaGlsZCkgPT4gaC5yZW5kZXJDaGlsZHJlbihjaGlsZCkpO1xuICAgICAgICAgIHJhdyA9IHBhcnRzLmpvaW4oY2VsbFNlcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmF3ID0gY2VsbE5vZGUuY29udGVudCA/IGgucmVuZGVyQ2hpbGRyZW4oY2VsbE5vZGUuY29udGVudCkgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRleHQgPSBjb2xsYXBzZVdoaXRlc3BhY2UocmF3KTtcbiAgICAgICAgY29uc3QgaXNIZWFkZXIgPSBjZWxsTm9kZS50eXBlID09PSBcInRhYmxlSGVhZGVyXCI7XG4gICAgICAgIGNlbGxzLnB1c2goeyB0ZXh0LCBpc0hlYWRlciB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByb3dzLnB1c2goY2VsbHMpO1xuICB9KTtcbiAgY29uc3QgY29sdW1uQ291bnQgPSByb3dzLnJlZHVjZSgobWF4LCByKSA9PiBNYXRoLm1heChtYXgsIHIubGVuZ3RoKSwgMCk7XG4gIGlmIChjb2x1bW5Db3VudCA9PT0gMCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IGNvbFdpZHRocyA9IG5ldyBBcnJheShjb2x1bW5Db3VudCkuZmlsbCgwKTtcbiAgcm93cy5mb3JFYWNoKChyKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbHVtbkNvdW50OyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGNlbGwgPSAoKF9hMiA9IHJbaV0pID09IG51bGwgPyB2b2lkIDAgOiBfYTIudGV4dCkgfHwgXCJcIjtcbiAgICAgIGNvbnN0IGxlbiA9IGNlbGwubGVuZ3RoO1xuICAgICAgaWYgKGxlbiA+IGNvbFdpZHRoc1tpXSkge1xuICAgICAgICBjb2xXaWR0aHNbaV0gPSBsZW47XG4gICAgICB9XG4gICAgICBpZiAoY29sV2lkdGhzW2ldIDwgMykge1xuICAgICAgICBjb2xXaWR0aHNbaV0gPSAzO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHBhZCA9IChzLCB3aWR0aCkgPT4gcyArIFwiIFwiLnJlcGVhdChNYXRoLm1heCgwLCB3aWR0aCAtIHMubGVuZ3RoKSk7XG4gIGNvbnN0IGhlYWRlclJvdyA9IHJvd3NbMF07XG4gIGNvbnN0IGhhc0hlYWRlciA9IGhlYWRlclJvdy5zb21lKChjKSA9PiBjLmlzSGVhZGVyKTtcbiAgbGV0IG91dCA9IFwiXFxuXCI7XG4gIGNvbnN0IGhlYWRlclRleHRzID0gbmV3IEFycmF5KGNvbHVtbkNvdW50KS5maWxsKDApLm1hcCgoXywgaSkgPT4gaGFzSGVhZGVyID8gaGVhZGVyUm93W2ldICYmIGhlYWRlclJvd1tpXS50ZXh0IHx8IFwiXCIgOiBcIlwiKTtcbiAgb3V0ICs9IGB8ICR7aGVhZGVyVGV4dHMubWFwKCh0LCBpKSA9PiBwYWQodCwgY29sV2lkdGhzW2ldKSkuam9pbihcIiB8IFwiKX0gfFxuYDtcbiAgb3V0ICs9IGB8ICR7Y29sV2lkdGhzLm1hcCgodykgPT4gXCItXCIucmVwZWF0KE1hdGgubWF4KDMsIHcpKSkuam9pbihcIiB8IFwiKX0gfFxuYDtcbiAgY29uc3QgYm9keSA9IGhhc0hlYWRlciA/IHJvd3Muc2xpY2UoMSkgOiByb3dzO1xuICBib2R5LmZvckVhY2goKHIpID0+IHtcbiAgICBvdXQgKz0gYHwgJHtuZXcgQXJyYXkoY29sdW1uQ291bnQpLmZpbGwoMCkubWFwKChfLCBpKSA9PiBwYWQocltpXSAmJiByW2ldLnRleHQgfHwgXCJcIiwgY29sV2lkdGhzW2ldKSkuam9pbihcIiB8IFwiKX0gfFxuYDtcbiAgfSk7XG4gIHJldHVybiBvdXQ7XG59XG52YXIgbWFya2Rvd25fZGVmYXVsdCA9IHJlbmRlclRhYmxlVG9NYXJrZG93bjtcblxuLy8gc3JjL3RhYmxlL3RhYmxlLnRzXG52YXIgVGFibGUgPSBOb2RlNC5jcmVhdGUoe1xuICBuYW1lOiBcInRhYmxlXCIsXG4gIC8vIEB0cy1pZ25vcmVcbiAgYWRkT3B0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxuICAgICAgcmVzaXphYmxlOiBmYWxzZSxcbiAgICAgIHJlbmRlcldyYXBwZXI6IGZhbHNlLFxuICAgICAgaGFuZGxlV2lkdGg6IDUsXG4gICAgICBjZWxsTWluV2lkdGg6IDI1LFxuICAgICAgLy8gVE9ETzogZml4XG4gICAgICBWaWV3OiBUYWJsZVZpZXcsXG4gICAgICBsYXN0Q29sdW1uUmVzaXphYmxlOiB0cnVlLFxuICAgICAgYWxsb3dUYWJsZU5vZGVTZWxlY3Rpb246IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgY29udGVudDogXCJ0YWJsZVJvdytcIixcbiAgdGFibGVSb2xlOiBcInRhYmxlXCIsXG4gIGlzb2xhdGluZzogdHJ1ZSxcbiAgZ3JvdXA6IFwiYmxvY2tcIixcbiAgcGFyc2VIVE1MKCkge1xuICAgIHJldHVybiBbeyB0YWc6IFwidGFibGVcIiB9XTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IG5vZGUsIEhUTUxBdHRyaWJ1dGVzIH0pIHtcbiAgICBjb25zdCB7IGNvbGdyb3VwLCB0YWJsZVdpZHRoLCB0YWJsZU1pbldpZHRoIH0gPSBjcmVhdGVDb2xHcm91cChub2RlLCB0aGlzLm9wdGlvbnMuY2VsbE1pbldpZHRoKTtcbiAgICBjb25zdCB1c2VyU3R5bGVzID0gSFRNTEF0dHJpYnV0ZXMuc3R5bGU7XG4gICAgZnVuY3Rpb24gZ2V0VGFibGVTdHlsZSgpIHtcbiAgICAgIGlmICh1c2VyU3R5bGVzKSB7XG4gICAgICAgIHJldHVybiB1c2VyU3R5bGVzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRhYmxlV2lkdGggPyBgd2lkdGg6ICR7dGFibGVXaWR0aH1gIDogYG1pbi13aWR0aDogJHt0YWJsZU1pbldpZHRofWA7XG4gICAgfVxuICAgIGNvbnN0IHRhYmxlID0gW1xuICAgICAgXCJ0YWJsZVwiLFxuICAgICAgbWVyZ2VBdHRyaWJ1dGVzNCh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzLCB7XG4gICAgICAgIHN0eWxlOiBnZXRUYWJsZVN0eWxlKClcbiAgICAgIH0pLFxuICAgICAgY29sZ3JvdXAsXG4gICAgICBbXCJ0Ym9keVwiLCAwXVxuICAgIF07XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5yZW5kZXJXcmFwcGVyID8gW1wiZGl2XCIsIHsgY2xhc3M6IFwidGFibGVXcmFwcGVyXCIgfSwgdGFibGVdIDogdGFibGU7XG4gIH0sXG4gIHBhcnNlTWFya2Rvd246ICh0b2tlbiwgaCkgPT4ge1xuICAgIGNvbnN0IHJvd3MgPSBbXTtcbiAgICBpZiAodG9rZW4uaGVhZGVyKSB7XG4gICAgICBjb25zdCBoZWFkZXJDZWxscyA9IFtdO1xuICAgICAgdG9rZW4uaGVhZGVyLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgaGVhZGVyQ2VsbHMucHVzaChoLmNyZWF0ZU5vZGUoXCJ0YWJsZUhlYWRlclwiLCB7fSwgW3sgdHlwZTogXCJwYXJhZ3JhcGhcIiwgY29udGVudDogaC5wYXJzZUlubGluZShjZWxsLnRva2VucykgfV0pKTtcbiAgICAgIH0pO1xuICAgICAgcm93cy5wdXNoKGguY3JlYXRlTm9kZShcInRhYmxlUm93XCIsIHt9LCBoZWFkZXJDZWxscykpO1xuICAgIH1cbiAgICBpZiAodG9rZW4ucm93cykge1xuICAgICAgdG9rZW4ucm93cy5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgICAgY29uc3QgYm9keUNlbGxzID0gW107XG4gICAgICAgIHJvdy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgYm9keUNlbGxzLnB1c2goaC5jcmVhdGVOb2RlKFwidGFibGVDZWxsXCIsIHt9LCBbeyB0eXBlOiBcInBhcmFncmFwaFwiLCBjb250ZW50OiBoLnBhcnNlSW5saW5lKGNlbGwudG9rZW5zKSB9XSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcm93cy5wdXNoKGguY3JlYXRlTm9kZShcInRhYmxlUm93XCIsIHt9LCBib2R5Q2VsbHMpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gaC5jcmVhdGVOb2RlKFwidGFibGVcIiwgdm9pZCAwLCByb3dzKTtcbiAgfSxcbiAgcmVuZGVyTWFya2Rvd246IChub2RlLCBoKSA9PiB7XG4gICAgcmV0dXJuIG1hcmtkb3duX2RlZmF1bHQobm9kZSwgaCk7XG4gIH0sXG4gIGFkZENvbW1hbmRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnNlcnRUYWJsZTogKHsgcm93cyA9IDMsIGNvbHMgPSAzLCB3aXRoSGVhZGVyUm93ID0gdHJ1ZSB9ID0ge30pID0+ICh7IHRyLCBkaXNwYXRjaCwgZWRpdG9yIH0pID0+IHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGNyZWF0ZVRhYmxlKGVkaXRvci5zY2hlbWEsIHJvd3MsIGNvbHMsIHdpdGhIZWFkZXJSb3cpO1xuICAgICAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0ci5zZWxlY3Rpb24uZnJvbSArIDE7XG4gICAgICAgICAgdHIucmVwbGFjZVNlbGVjdGlvbldpdGgobm9kZSkuc2Nyb2xsSW50b1ZpZXcoKS5zZXRTZWxlY3Rpb24oVGV4dFNlbGVjdGlvbi5uZWFyKHRyLmRvYy5yZXNvbHZlKG9mZnNldCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBhZGRDb2x1bW5CZWZvcmU6ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgICAgIHJldHVybiBhZGRDb2x1bW5CZWZvcmUoc3RhdGUsIGRpc3BhdGNoKTtcbiAgICAgIH0sXG4gICAgICBhZGRDb2x1bW5BZnRlcjogKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIGFkZENvbHVtbkFmdGVyKHN0YXRlLCBkaXNwYXRjaCk7XG4gICAgICB9LFxuICAgICAgZGVsZXRlQ29sdW1uOiAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVsZXRlQ29sdW1uKHN0YXRlLCBkaXNwYXRjaCk7XG4gICAgICB9LFxuICAgICAgYWRkUm93QmVmb3JlOiAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICByZXR1cm4gYWRkUm93QmVmb3JlKHN0YXRlLCBkaXNwYXRjaCk7XG4gICAgICB9LFxuICAgICAgYWRkUm93QWZ0ZXI6ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgICAgIHJldHVybiBhZGRSb3dBZnRlcihzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgICAgfSxcbiAgICAgIGRlbGV0ZVJvdzogKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZVJvdyhzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgICAgfSxcbiAgICAgIGRlbGV0ZVRhYmxlOiAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVsZXRlVGFibGUoc3RhdGUsIGRpc3BhdGNoKTtcbiAgICAgIH0sXG4gICAgICBtZXJnZUNlbGxzOiAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICByZXR1cm4gbWVyZ2VDZWxscyhzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgICAgfSxcbiAgICAgIHNwbGl0Q2VsbDogKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHNwbGl0Q2VsbChzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZUhlYWRlckNvbHVtbjogKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHRvZ2dsZUhlYWRlcihcImNvbHVtblwiKShzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZUhlYWRlclJvdzogKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHRvZ2dsZUhlYWRlcihcInJvd1wiKShzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZUhlYWRlckNlbGw6ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgICAgIHJldHVybiB0b2dnbGVIZWFkZXJDZWxsKHN0YXRlLCBkaXNwYXRjaCk7XG4gICAgICB9LFxuICAgICAgbWVyZ2VPclNwbGl0OiAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICBpZiAobWVyZ2VDZWxscyhzdGF0ZSwgZGlzcGF0Y2gpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNwbGl0Q2VsbChzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgICAgfSxcbiAgICAgIHNldENlbGxBdHRyaWJ1dGU6IChuYW1lLCB2YWx1ZSkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHNldENlbGxBdHRyKG5hbWUsIHZhbHVlKShzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgICAgfSxcbiAgICAgIGdvVG9OZXh0Q2VsbDogKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIGdvVG9OZXh0Q2VsbCgxKShzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgICAgfSxcbiAgICAgIGdvVG9QcmV2aW91c0NlbGw6ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgICAgIHJldHVybiBnb1RvTmV4dENlbGwoLTEpKHN0YXRlLCBkaXNwYXRjaCk7XG4gICAgICB9LFxuICAgICAgZml4VGFibGVzOiAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgICAgICBmaXhUYWJsZXMoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICAgIHNldENlbGxTZWxlY3Rpb246IChwb3NpdGlvbikgPT4gKHsgdHIsIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gQ2VsbFNlbGVjdGlvbjIuY3JlYXRlKHRyLmRvYywgcG9zaXRpb24uYW5jaG9yQ2VsbCwgcG9zaXRpb24uaGVhZENlbGwpO1xuICAgICAgICAgIHRyLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBUYWI6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuZWRpdG9yLmNvbW1hbmRzLmdvVG9OZXh0Q2VsbCgpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvci5jYW4oKS5hZGRSb3dBZnRlcigpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmVkaXRvci5jaGFpbigpLmFkZFJvd0FmdGVyKCkuZ29Ub05leHRDZWxsKCkucnVuKCk7XG4gICAgICB9LFxuICAgICAgXCJTaGlmdC1UYWJcIjogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuZ29Ub1ByZXZpb3VzQ2VsbCgpLFxuICAgICAgQmFja3NwYWNlOiBkZWxldGVUYWJsZVdoZW5BbGxDZWxsc1NlbGVjdGVkLFxuICAgICAgXCJNb2QtQmFja3NwYWNlXCI6IGRlbGV0ZVRhYmxlV2hlbkFsbENlbGxzU2VsZWN0ZWQsXG4gICAgICBEZWxldGU6IGRlbGV0ZVRhYmxlV2hlbkFsbENlbGxzU2VsZWN0ZWQsXG4gICAgICBcIk1vZC1EZWxldGVcIjogZGVsZXRlVGFibGVXaGVuQWxsQ2VsbHNTZWxlY3RlZFxuICAgIH07XG4gIH0sXG4gIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcbiAgICBjb25zdCBpc1Jlc2l6YWJsZSA9IHRoaXMub3B0aW9ucy5yZXNpemFibGUgJiYgdGhpcy5lZGl0b3IuaXNFZGl0YWJsZTtcbiAgICByZXR1cm4gW1xuICAgICAgLi4uaXNSZXNpemFibGUgPyBbXG4gICAgICAgIGNvbHVtblJlc2l6aW5nKHtcbiAgICAgICAgICBoYW5kbGVXaWR0aDogdGhpcy5vcHRpb25zLmhhbmRsZVdpZHRoLFxuICAgICAgICAgIGNlbGxNaW5XaWR0aDogdGhpcy5vcHRpb25zLmNlbGxNaW5XaWR0aCxcbiAgICAgICAgICBkZWZhdWx0Q2VsbE1pbldpZHRoOiB0aGlzLm9wdGlvbnMuY2VsbE1pbldpZHRoLFxuICAgICAgICAgIFZpZXc6IHRoaXMub3B0aW9ucy5WaWV3LFxuICAgICAgICAgIGxhc3RDb2x1bW5SZXNpemFibGU6IHRoaXMub3B0aW9ucy5sYXN0Q29sdW1uUmVzaXphYmxlXG4gICAgICAgIH0pXG4gICAgICBdIDogW10sXG4gICAgICB0YWJsZUVkaXRpbmcoe1xuICAgICAgICBhbGxvd1RhYmxlTm9kZVNlbGVjdGlvbjogdGhpcy5vcHRpb25zLmFsbG93VGFibGVOb2RlU2VsZWN0aW9uXG4gICAgICB9KVxuICAgIF07XG4gIH0sXG4gIGV4dGVuZE5vZGVTY2hlbWEoZXh0ZW5zaW9uKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxuICAgICAgb3B0aW9uczogZXh0ZW5zaW9uLm9wdGlvbnMsXG4gICAgICBzdG9yYWdlOiBleHRlbnNpb24uc3RvcmFnZVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhYmxlUm9sZTogY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgXCJ0YWJsZVJvbGVcIiwgY29udGV4dCkpXG4gICAgfTtcbiAgfVxufSk7XG5cbi8vIHNyYy9raXQvaW5kZXgudHNcbnZhciBUYWJsZUtpdCA9IEV4dGVuc2lvbi5jcmVhdGUoe1xuICBuYW1lOiBcInRhYmxlS2l0XCIsXG4gIGFkZEV4dGVuc2lvbnMoKSB7XG4gICAgY29uc3QgZXh0ZW5zaW9ucyA9IFtdO1xuICAgIGlmICh0aGlzLm9wdGlvbnMudGFibGUgIT09IGZhbHNlKSB7XG4gICAgICBleHRlbnNpb25zLnB1c2goVGFibGUuY29uZmlndXJlKHRoaXMub3B0aW9ucy50YWJsZSkpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLnRhYmxlQ2VsbCAhPT0gZmFsc2UpIHtcbiAgICAgIGV4dGVuc2lvbnMucHVzaChUYWJsZUNlbGwuY29uZmlndXJlKHRoaXMub3B0aW9ucy50YWJsZUNlbGwpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy50YWJsZUhlYWRlciAhPT0gZmFsc2UpIHtcbiAgICAgIGV4dGVuc2lvbnMucHVzaChUYWJsZUhlYWRlci5jb25maWd1cmUodGhpcy5vcHRpb25zLnRhYmxlSGVhZGVyKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMudGFibGVSb3cgIT09IGZhbHNlKSB7XG4gICAgICBleHRlbnNpb25zLnB1c2goVGFibGVSb3cuY29uZmlndXJlKHRoaXMub3B0aW9ucy50YWJsZVJvdykpO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW5zaW9ucztcbiAgfVxufSk7XG5leHBvcnQge1xuICBERUZBVUxUX0NFTExfTElORV9TRVBBUkFUT1IsXG4gIFRhYmxlLFxuICBUYWJsZUNlbGwsXG4gIFRhYmxlSGVhZGVyLFxuICBUYWJsZUtpdCxcbiAgVGFibGVSb3csXG4gIFRhYmxlVmlldyxcbiAgY3JlYXRlQ29sR3JvdXAsXG4gIGNyZWF0ZVRhYmxlLFxuICByZW5kZXJUYWJsZVRvTWFya2Rvd24sXG4gIHVwZGF0ZUNvbHVtbnNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tiptap+extension-table@3.19.0_@tiptap+core@3.19.0_@tiptap+pm@3.19.0__@tiptap+pm@3.19.0/node_modules/@tiptap/extension-table/dist/index.js\n");

/***/ })

};
;